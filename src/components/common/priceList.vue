<template>
  <div>
    <Dialog :width="isPC ? '500px' : '90%'" ref="dialogPriceList">
      <div>
        <div class="title">
          <div>{{ $t('morePrice') }}</div>
          <Dropdown class="select-box" trigger="click" @command="handleCommand">
            <el-button type="primary">
              <div class="type-name">{{ $t(pathList[pathType].type) }}</div>
              <svg
                t="1623379978208"
                class="icon"
                viewBox="0 0 1024 1024"
                version="1.1"
                xmlns="http://www.w3.org/2000/svg"
                p-id="1190"
              >
                <path
                  d="M934.4 512v19.6096l-0.0512 11.52-0.0768 9.6512-0.1024 8.6016-0.128 7.936-0.1536 7.3984-0.1792 6.9888-0.2048 6.656-0.256 6.4-0.256 6.144-0.3072 5.9392-0.3072 5.76-0.3584 5.5808-0.384 5.4528-0.4096 5.2992-0.4352 5.1968-0.4608 5.0688-0.512 4.9664-0.512 4.864-0.5376 4.7872-0.5888 4.6848-0.5888 4.608-0.64 4.5312-0.6656 4.4544-0.6912 4.352-0.7168 4.3264-0.7424 4.2496-0.768 4.1728-0.8192 4.1472-0.8192 4.0704-0.8704 3.9936-0.8704 3.968-0.9216 3.8912-0.9472 3.84-0.9728 3.84-0.9984 3.7376-1.024 3.712-1.0496 3.6608-1.1008 3.6096-1.1008 3.584-1.152 3.5328-1.152 3.4816-1.2032 3.456-1.2288 3.4048-1.28 3.3536-1.28 3.328-1.28 3.3024-1.3568 3.2512-1.3568 3.2-1.408 3.1744-1.408 3.1488-1.4592 3.0976-1.4848 3.072-1.5104 3.0208-1.536 2.9952-1.5616 2.9696-1.6128 2.944-1.6128 2.8928-1.6384 2.8416-1.6896 2.816-1.7152 2.816-1.7408 2.7648-1.7664 2.7392-1.792 2.688-1.8176 2.6624-1.8688 2.6368-1.8688 2.6112-1.92 2.56-1.92 2.56-1.9712 2.5088-2.0224 2.4576-2.0224 2.4576-2.048 2.4064-2.0736 2.4064-2.1248 2.3552-2.1504 2.304-2.176 2.304-2.2016 2.2784-2.2272 2.2272-2.2784 2.2016-2.304 2.176-2.304 2.1504-2.3552 2.1248-2.3808 2.0736-2.4064 2.048-2.4576 2.048-2.4832 1.9968-2.5088 1.9712-2.5344 1.9456-2.56 1.92-2.6112 1.8944-2.6368 1.8432-2.6368 1.8176-2.7136 1.792-2.7136 1.792-2.7648 1.7408-2.816 1.7152-2.816 1.664-2.8416 1.664-2.8928 1.6128-2.944 1.6128-2.944 1.5616-2.9952 1.536-3.0464 1.536-3.072 1.4592-3.072 1.4592-3.1488 1.4336-3.1744 1.408-3.2 1.3568-3.2512 1.3312-3.3024 1.3312-3.328 1.28-3.328 1.2544-3.4304 1.2288-3.4304 1.2032-3.4816 1.1776-3.5328 1.1264-3.584 1.1264-3.584 1.0752-3.6864 1.0752-3.6864 1.024-3.7632 1.024-3.7888 0.9472-3.84 0.9472-3.9168 0.9216-3.9424 0.896-4.0192 0.8448-4.0704 0.8448-4.096 0.7936-4.1984 0.768-4.2496 0.768-4.3008 0.7168-4.352 0.6912-4.4544 0.6656-4.5312 0.64-4.608 0.6144-4.6592 0.5632-4.7872 0.5632-4.864 0.512-4.9408 0.512-5.0688 0.4608-5.1712 0.4352-5.2992 0.4096-5.4528 0.384-5.5808 0.3584-5.7344 0.3072-5.9136 0.3072-6.144 0.256-6.3488 0.256-6.656 0.2048-6.9632 0.2048-7.3728 0.1536-7.8592 0.128-8.5504 0.1024-9.5488 0.0768-11.3152 0.0256-16.9984 0.0256h-22.1952l-11.7248-0.0512-9.7792-0.0768-8.6784-0.0768-7.9616-0.128-7.424-0.1536-7.04-0.1792-6.6816-0.2304-6.4-0.2304-6.1696-0.256-5.9648-0.3072-5.76-0.3072-5.632-0.3584-5.4272-0.384-5.3248-0.4096-5.1968-0.4096-5.0944-0.4608-4.9664-0.512-4.864-0.512-4.7872-0.5376-4.7104-0.5888-4.608-0.5888-4.5312-0.64-4.4544-0.6656-4.3776-0.6912-4.3264-0.7168-4.2496-0.7424-4.1984-0.768-4.1216-0.7936-4.0704-0.8192-4.0192-0.8704-3.968-0.8704-3.8912-0.9216-3.84-0.9472-3.84-0.9728-3.7632-0.9984-3.6864-1.024-3.6864-1.0496-3.6096-1.0752-3.584-1.1264-3.5328-1.1264-3.4816-1.1776-3.456-1.2032-3.4048-1.2032-3.3792-1.28-3.328-1.28-3.3024-1.28-3.2512-1.3568-3.2-1.3568-3.1744-1.3824-3.1488-1.4336-3.1232-1.4336-3.072-1.4848-3.0208-1.536-2.9952-1.536-2.9696-1.536-2.9184-1.6128-2.9184-1.6128-2.8672-1.6384-2.816-1.6896-2.816-1.7152-2.7648-1.7152-2.7136-1.792-2.7136-1.792-2.6624-1.792-2.6368-1.8688-2.6112-1.8688-2.56-1.92-2.56-1.92-2.5088-1.9712-2.4832-1.9968-2.432-2.048-2.432-2.048-2.3808-2.0736-2.3552-2.1248-2.3296-2.1248-2.304-2.176-2.2784-2.2016-2.2272-2.2272-2.2016-2.2784-2.2016-2.2784-2.1504-2.304-2.0992-2.3808-2.0992-2.3808-2.048-2.4064-2.048-2.432-1.9968-2.4832-1.9712-2.5088-1.9456-2.5344-1.92-2.56-1.8944-2.5856-1.8432-2.6368-1.8432-2.6624-1.792-2.688-1.792-2.7392-1.7152-2.7648-1.7152-2.7904-1.6896-2.816-1.664-2.8416-1.6128-2.8928-1.6128-2.9184-1.5616-2.9696-1.536-2.9952-1.536-3.0208-1.4848-3.072-1.4592-3.072-1.4336-3.1488-1.3824-3.1744-1.3824-3.2-1.3312-3.2512-1.3312-3.2768-1.28-3.328-1.28-3.3536-1.2032-3.4048-1.2032-3.4304-1.1776-3.4816-1.152-3.5328-1.1008-3.584-1.1008-3.584-1.0496-3.6608-1.024-3.712-1.024-3.7376-0.9728-3.7888-0.9472-3.84-0.9216-3.9168-0.896-3.9424L102.4 700.0576l-0.8192-4.0704-0.8192-4.096-0.768-4.1984-0.768-4.224-0.7168-4.3008-0.6912-4.3776-0.6656-4.4544-0.64-4.5056-0.6144-4.608-0.5888-4.6592-0.5376-4.7616-0.512-4.864-0.512-4.9408-0.4608-5.0432-0.4608-5.1712-0.4096-5.2992-0.384-5.4016-0.3584-5.5808-0.3328-5.7344-0.2816-5.888-0.256-6.144-0.256-6.3232-0.2304-6.6304-0.1792-6.912-0.1536-7.3472-0.1536-7.8336-0.0768-8.4736-0.0768-9.472-0.0512-11.1104-0.0256-15.872v-23.2192l0.0512-11.9808 0.0512-9.8816 0.1024-8.7552 0.128-8.0128 0.1536-7.4752 0.1792-7.04 0.2048-6.7328 0.2304-6.4 0.256-6.1952 0.3072-5.9904 0.3072-5.7856 0.3584-5.6064 0.3584-5.4528 0.4096-5.3504 0.4352-5.1968 0.4608-5.0944 0.4864-4.992 0.512-4.864 0.5632-4.7872 0.5632-4.7104 0.5888-4.608 0.64-4.5568 0.6656-4.4544 0.6656-4.4032 0.7168-4.3264 0.768-4.2496 0.768-4.1984 0.768-4.1216 0.8448-4.096 0.8448-3.9936 0.896-3.968 0.896-3.9168 0.9472-3.8656 0.9728-3.8144 0.9984-3.7632 1.024-3.712 1.024-3.6608 1.1008-3.6352 1.1008-3.584 1.152-3.5328 1.152-3.4816 1.2032-3.456 1.2032-3.4304 1.28-3.3536 1.2544-3.328 1.3056-3.328 1.3312-3.2512 1.3824-3.2 1.3824-3.2 1.408-3.1232 1.4592-3.1232 1.4848-3.072 1.4848-3.0208 1.536-3.0208 1.5616-2.9696 1.5872-2.944 1.6384-2.8928 1.6384-2.8672 1.664-2.816 1.7152-2.816 1.7408-2.7648 1.7664-2.7392 1.792-2.688 1.792-2.688 1.8688-2.6368 1.8688-2.6112 1.92-2.56 1.92-2.56 1.9712-2.5088 1.9968-2.4832 2.0224-2.4576 2.048-2.4064 2.0736-2.4064 2.1248-2.3552 2.1248-2.3296 2.176-2.304 2.2016-2.2784 2.2272-2.2272 2.2528-2.2272 2.304-2.176 2.304-2.1504 2.3552-2.1248 2.3808-2.0992 2.4064-2.048 2.4576-2.048 2.4576-1.9968 2.5088-1.9712 2.5344-1.9456 2.56-1.92 2.5856-1.8944 2.6368-1.8688 2.6624-1.8176 2.688-1.792 2.7136-1.792 2.7648-1.7408 2.7904-1.7152 2.816-1.6896 2.8672-1.664 2.8672-1.6384 2.9184-1.5872 2.9696-1.5872 2.9952-1.536 3.0208-1.536 3.072-1.4592 3.072-1.4592 3.1232-1.4336 3.1744-1.408 3.2-1.3824 3.2512-1.3312 3.2768-1.3312 3.328-1.28 3.328-1.28 3.4048-1.2032 3.456-1.2288 3.456-1.152 3.5328-1.152 3.584-1.1264 3.584-1.1008 3.6608-1.0496 3.6864-1.024 3.7376-1.024 3.7888-0.9728 3.84-0.9472 3.9168-0.9216 3.9424-0.896 3.9936-0.8704 4.0448-0.8448 4.096-0.7936 4.1984-0.7936 4.224-0.768 4.3008-0.7168 4.352-0.6912 4.4544-0.6656 4.5056-0.64 4.5824-0.6144 4.6592-0.5888 4.7616-0.5376 4.8384-0.5376 4.9408-0.512 5.0432-0.4608 5.1712-0.4352 5.2736-0.4096 5.4272-0.4096 5.5552-0.3584 5.7088-0.3328 5.888-0.2816 6.0928-0.2816 6.3232-0.256 6.6048-0.2048 6.912-0.2048 7.296-0.1536 7.7824-0.128 8.4224-0.1024 9.344-0.0768 10.9568-0.0512 15.0528-0.0256h23.8848l12.2624 0.0512 9.984 0.0512 8.832 0.1024 8.064 0.1024 7.5008 0.1536 7.0912 0.1792 6.7328 0.2048 6.4512 0.256 6.1952 0.256 5.9904 0.256 5.8112 0.3328 5.632 0.3584 5.4784 0.3584 5.3248 0.4096 5.2224 0.4352 5.12 0.4608 4.9664 0.4608 4.8896 0.512 4.8128 0.5632 4.6848 0.5632 4.6336 0.5888 4.5568 0.64 4.4544 0.6656 4.4032 0.6656 4.352 0.7168 4.2496 0.7424 4.1984 0.768 4.1216 0.7936 4.096 0.8192 4.0192 0.8448 3.968 0.896 3.9168 0.896 3.8656 0.9472 3.8144 0.9728 3.7632 0.9728 3.712 1.024 3.6864 1.0496 3.6352 1.0752 3.584 1.1264 3.5328 1.1264 3.5072 1.152 3.456 1.2032 3.4048 1.2288 3.3792 1.2288 3.328 1.28 3.328 1.3056 3.2256 1.3312 3.2256 1.3568 3.2 1.3824 3.1488 1.4336 3.0976 1.4336 3.072 1.4848 3.072 1.5104 2.9952 1.536 2.9696 1.536 2.9184 1.5872 2.9184 1.6384 2.8672 1.6384 2.816 1.664 2.816 1.7152 2.7648 1.7152 2.7392 1.792 2.7136 1.7664 2.6624 1.8176 2.6624 1.8432 2.6112 1.8688 2.56 1.92 2.56 1.92 2.5088 1.9712 2.4832 1.9968 2.4576 2.0224 2.432 2.048 2.3808 2.048 2.3808 2.1248 2.304 2.1504 2.304 2.176 2.304 2.176 2.2272 2.2272 2.2272 2.2528 2.176 2.304 2.1504 2.304 2.1248 2.3552 2.0992 2.3808 2.048 2.4064 2.048 2.432 2.0224 2.4576 1.9712 2.5088 1.9456 2.5344 1.92 2.56 1.8944 2.5856 1.8688 2.6368 1.8176 2.6624 1.792 2.6624 1.792 2.7392 1.7664 2.7392 1.7152 2.7904 1.6896 2.816 1.664 2.8672 1.6128 2.8672 1.6128 2.9184 1.5872 2.944 1.536 2.9952 1.536 3.0208 1.4848 3.072 1.4592 3.072 1.4336 3.1488 1.408 3.1488 1.3568 3.2 1.3568 3.2512 1.3312 3.2768 1.28 3.328 1.28 3.328 1.2288 3.4048 1.2032 3.4304 1.1776 3.4816 1.152 3.5072 1.1264 3.584 1.0752 3.584 1.0752 3.6352 1.024 3.712 1.024 3.7376 0.9728 3.7888 0.9472 3.84 0.9216 3.8656 0.896 3.9424 0.8704 3.9936 0.8448 4.0448 0.8192 4.096 0.768 4.1984 0.768 4.224 0.7168 4.2752 0.7168 4.352 0.6656 4.4544 0.64 4.5056 0.6144 4.5568 0.5888 4.6592 0.5632 4.7616 0.512 4.8384 0.512 4.9408 0.4864 5.0176 0.4352 5.1456 0.4096 5.2736 0.384 5.4016 0.3584 5.5552 0.3584 5.7088 0.2816 5.888 0.2816 6.0672 0.256 6.2976 0.2304 6.5792 0.1792 6.8864 0.1536 7.2448 0.1536 7.7312 0.1024 8.3712 0.0768 9.2928 0.0512 10.752 0.0256 14.4384V512z"
                  fill="#2c2c2c"
                  p-id="1191"
                ></path>
                <path
                  d="M860.3392 512v16.1792l-0.0512 9.472-0.0512 7.9872-0.0768 7.0912-0.1024 6.528-0.128 6.1184-0.1536 5.76-0.1792 5.504-0.2048 5.248-0.2048 5.0688-0.256 4.9152-0.256 4.736-0.3072 4.608-0.3072 4.5056-0.3328 4.352-0.3584 4.3008-0.384 4.1728-0.4096 4.096-0.4352 4.0192-0.4352 3.9424-0.4864 3.84-0.512 3.84-0.512 3.712-0.5376 3.6608-0.5632 3.6096-0.5888 3.584-0.64 3.4816-0.6144 3.456-0.6656 3.4048-0.6912 3.3536-0.7168 3.328-0.7168 3.2512-0.768 3.2-0.768 3.2-0.8192 3.1232-0.8192 3.0976-0.8448 3.072-0.8704 3.0208-0.896 2.9696-0.9216 2.944-0.9216 2.9184-0.9728 2.8672-0.9984 2.8416-1.024 2.816-1.024 2.7648-1.0496 2.7648-1.0752 2.7136-1.1008 2.6624-1.1264 2.6624-1.152 2.6112-1.1776 2.5856-1.2032 2.56-1.2288 2.5344-1.2288 2.5088-1.28 2.4576-1.28 2.4576-1.3312 2.4064-1.3312 2.3808-1.3568 2.3808-1.3824 2.304-1.4336 2.304-1.4336 2.304-1.4336 2.2528-1.4848 2.2272-1.5104 2.176-1.536 2.176-1.536 2.1504-1.5872 2.1248-1.5872 2.0992-1.6384 2.048-1.6384 2.048-1.6896 2.048-1.6896 1.9712-1.7152 1.9712-1.7408 1.9456-1.792 1.92-1.792 1.8944-1.792 1.8688-1.8432 1.8432-1.8688 1.8176-1.8944 1.792-1.92 1.792-1.9456 1.7408-1.9712 1.7152-1.9712 1.6896-2.048 1.6896-2.0224 1.6384-2.048 1.6128-2.0992 1.6128-2.1248 1.5872-2.1504 1.536-2.176 1.536-2.176 1.536-2.2272 1.4592-2.2528 1.4592-2.304 1.4336-2.304 1.408-2.304 1.3824-2.3552 1.3824-2.3808 1.3312-2.432 1.3312-2.432 1.28-2.4832 1.28-2.4832 1.2288-2.5344 1.2288-2.56 1.2032-2.56 1.1776-2.6368 1.152-2.6368 1.1264-2.688 1.1008-2.7136 1.1008-2.7392 1.0496-2.7648 1.024-2.816 1.024-2.816 0.9984-2.8928 0.9728-2.9184 0.9216-2.944 0.9216-2.9696 0.896-3.0208 0.8704-3.072 0.8704-3.072 0.8192-3.1488 0.7936-3.1488 0.768-3.2256 0.768-3.2512 0.7424-3.328 0.7168-3.328 0.6912-3.4048 0.6656-3.456 0.6144-3.5072 0.64-3.5328 0.5888-3.6096 0.5632-3.6864 0.5376-3.712 0.5376-3.7888 0.512-3.8656 0.4608-3.9424 0.4608-3.9936 0.4352-4.096 0.4096-4.1728 0.384-4.2752 0.3584-4.352 0.3328-4.5056 0.3072-4.608 0.3072-4.7104 0.256-4.8896 0.256-5.0688 0.2304-5.248 0.2048-5.4784 0.1536-5.7344 0.1536-6.0672 0.128-6.5024 0.128-7.04 0.0768-7.8848 0.0512-9.3184 0.0512h-32.3328l-9.6768-0.0512-8.0384-0.0512-7.168-0.0768-6.5792-0.1024-6.144-0.128-5.76-0.1536-5.5296-0.1536-5.2736-0.2048-5.0944-0.2304-4.9152-0.2304-4.7616-0.256-4.608-0.3072-4.5056-0.3072-4.4032-0.3328-4.2752-0.3584-4.1728-0.384-4.096-0.4096-4.0448-0.4096-3.9424-0.4608-3.8656-0.4608-3.8144-0.512-3.7376-0.512-3.6608-0.5376-3.6096-0.5888-3.584-0.5888-3.5072-0.6144-3.4304-0.64-3.4304-0.64-3.328-0.6912-3.328-0.7168-3.2768-0.7168-3.2256-0.768-3.1744-0.768-3.1232-0.7936-3.1232-0.8192-3.072-0.8448-2.9952-0.8704-2.9952-0.896-2.944-0.9216-2.9184-0.9472-2.8672-0.9472-2.8672-0.9984-2.816-1.024-2.7648-1.024-2.7392-1.024-2.7136-1.1008-2.688-1.1008-2.6624-1.1264-2.6112-1.152-2.5856-1.1776-2.56-1.1776-2.56-1.2288-2.4832-1.2288-2.4832-1.28-2.432-1.28-2.432-1.3312-2.3808-1.3312-2.3552-1.3568-2.3296-1.3824-2.304-1.408-2.304-1.4336-2.2528-1.4592-2.2272-1.4848-2.2016-1.4848-2.176-1.536-2.1504-1.536-2.1248-1.5872-2.0736-1.5872-2.0736-1.6384-2.048-1.6384-2.048-1.664-1.9712-1.7152-1.9712-1.7152-1.9456-1.7408-1.92-1.7664-1.8944-1.792-1.8688-1.792-1.8432-1.8688-1.8176-1.8432-1.792-1.8944-1.792-1.92-1.7408-1.9456-1.7408-1.9456-1.6896-1.9968-1.664-2.0224-1.664-2.048-1.6384-2.048L217.7024 768l-1.5872-2.1248-1.536-2.1248-1.536-2.176-1.536-2.2016-1.4848-2.2016-1.4592-2.2528-1.4336-2.2784-1.408-2.304-1.3824-2.304-1.3824-2.3808-1.3312-2.3808-1.3312-2.4064-1.28-2.432-1.28-2.4832-1.2544-2.4832-1.2032-2.5344-1.2032-2.56-1.1776-2.56-1.152-2.6368-1.152-2.6368-1.1008-2.688-1.0752-2.688-1.0752-2.7392-1.024-2.7904-1.024-2.816-0.9984-2.816-0.9728-2.8672-0.9216-2.9184-0.9216-2.944-0.9216-2.9696-0.8704-3.0208-0.8448-3.0464-0.8192-3.072-0.8192-3.1488-0.768-3.1744-0.768-3.2-0.7424-3.2512-0.7168-3.328-0.6656-3.328-0.6912-3.4048-0.64-3.4304-0.6144-3.5072-0.5888-3.5328-0.5632-3.6096-0.5632-3.6608-0.512-3.712-0.512-3.7888-0.4864-3.84-0.4608-3.9424-0.4352-4.0192-0.4096-4.0704-0.384-4.1728-0.3584-4.2496-0.3328-4.352-0.3328-4.48-0.2816-4.608-0.256-4.7104-0.256-4.864-0.256-5.0688-0.1792-5.2224-0.1792-5.4528-0.1536-5.7344-0.128-6.0416-0.1024-6.4512-0.1024-6.9888-0.0512-7.808-0.0256-9.1648-0.0256-13.0816v-19.1744l0.0256-9.8816 0.0768-8.1408 0.0768-7.2192 0.0768-6.6048 0.128-6.144 0.1536-5.8368 0.1792-5.5296 0.1792-5.2992 0.2304-5.12 0.256-4.9152 0.256-4.7616 0.256-4.6336 0.3328-4.5056 0.3328-4.4032 0.3584-4.3008 0.3584-4.1984 0.4096-4.096 0.4352-4.0192 0.4352-3.968 0.4864-3.8656 0.512-3.8144 0.512-3.7376 0.512-3.6864 0.5888-3.6096 0.5888-3.584 0.6144-3.5072 0.6144-3.456 0.6656-3.4048 0.6912-3.3536 0.6912-3.328 0.7424-3.2512 0.7424-3.2512 0.768-3.1744 0.8192-3.1488 0.8192-3.0976 0.8448-3.072 0.8448-3.0208 0.896-2.9952 0.9216-2.944 0.9472-2.9184 0.9472-2.8928 0.9984-2.816 0.9984-2.816 1.024-2.816 1.0496-2.7392 1.0752-2.7136 1.1008-2.688 1.1264-2.6368 1.152-2.6368 1.1776-2.5856 1.2032-2.56 1.2032-2.56 1.2544-2.4832 1.2544-2.4832 1.28-2.4576 1.3056-2.4064 1.3568-2.4064 1.3568-2.3552 1.3824-2.3296 1.408-2.304 1.408-2.304 1.4592-2.2528 1.4848-2.2272 1.5104-2.2016 1.536-2.176 1.536-2.1504 1.5616-2.1248 1.5872-2.0992 1.6384-2.048 1.6384-2.0736 1.664-2.0224 1.6896-1.9968 1.7152-1.9712 1.7408-1.9456 1.792-1.92 1.7664-1.8944 1.792-1.8688 1.8688-1.8688 1.8432-1.792 1.8944-1.8176 1.92-1.792 1.9456-1.7408 1.9456-1.7152 1.9968-1.7152 1.9968-1.664 2.048-1.664 2.048-1.6384 2.0992-1.5872 2.1248-1.5872 2.1248-1.5616 2.176-1.536 2.2016-1.5104 2.2016-1.4848 2.2528-1.4592 2.2784-1.4336 2.304-1.4336 2.304-1.3824 2.3808-1.3568 2.3552-1.3568 2.432-1.3056 2.432-1.3056 2.4576-1.28 2.4832-1.2544 2.5344-1.2288 2.56-1.2032 2.56-1.1776 2.6368-1.152 2.6368-1.1264 2.6624-1.1264 2.7136-1.0752 2.7392-1.0752 2.7648-1.024 2.816-1.024 2.816-0.9984 2.8672-0.9728 2.8928-0.9216 2.944-0.9472 2.9696-0.896 3.0208-0.8704 3.072-0.8448 3.072-0.8448 3.1232-0.7936 3.1744-0.768 3.2-0.768 3.2512-0.768 3.3024-0.6912 3.328-0.6912 3.4048-0.6656 3.4304-0.6656 3.5072-0.6144 3.5328-0.5888 3.584-0.5888 3.6864-0.5376 3.712-0.512 3.7632-0.512 3.84-0.512 3.9424-0.4352 3.9936-0.4352 4.096-0.4096 4.1472-0.4096 4.2496-0.3584 4.352-0.3328 4.4544-0.3328 4.608-0.2816 4.7104-0.256 4.864-0.256 5.0176-0.256 5.2224-0.1792 5.4272-0.1792 5.7088-0.1792 6.016-0.128 6.4-0.1024 6.9632-0.0768 7.7056-0.0768 9.0112-0.0256 12.4416-0.0256h19.712l10.0864 0.0256 8.2432 0.0512 7.2704 0.0768 6.656 0.1024 6.1952 0.128 5.8368 0.1536 5.5552 0.1536 5.3248 0.2048 5.12 0.2048 4.9408 0.256 4.7616 0.256 4.6592 0.256 4.5056 0.3328 4.4032 0.3328 4.3008 0.3584 4.224 0.3584 4.096 0.4096 4.0448 0.4096 3.9424 0.4608 3.8912 0.4608 3.8144 0.512 3.7376 0.512 3.6864 0.5376 3.6352 0.5632 3.584 0.5888 3.5072 0.6144 3.456 0.6144 3.4048 0.6656 3.3792 0.6912 3.328 0.6912 3.2512 0.7168 3.2512 0.768 3.1744 0.768 3.1488 0.7936 3.0976 0.8192 3.072 0.8448 3.0208 0.8704 2.9952 0.8704 2.9696 0.9216 2.9184 0.9472 2.8928 0.9472 2.8416 0.9728 2.816 1.024 2.7904 1.024 2.7392 1.0496 2.7136 1.0752 2.688 1.1008 2.6624 1.1264 2.6368 1.1264 2.5856 1.1776 2.56 1.2032 2.56 1.2032 2.5088 1.2544 2.4576 1.2544 2.4576 1.28 2.432 1.3056 2.3808 1.3568 2.3808 1.3568 2.3296 1.3568 2.304 1.408 2.304 1.4336 2.2528 1.4592 2.2272 1.4592 2.2016 1.5104 2.176 1.536 2.1504 1.536 2.1248 1.5616 2.0992 1.5872 2.0992 1.6384 2.048 1.6384 2.0224 1.664 1.9968 1.6896 1.9712 1.7152 1.9456 1.7408 1.92 1.7664 1.8944 1.792 1.8944 1.792 1.8432 1.8432 1.8176 1.8688 1.792 1.8688 1.792 1.92 1.7408 1.9456 1.7408 1.9456 1.6896 1.9968 1.6896 1.9968 1.664 2.048 1.6128 2.048 1.6128 2.0992 1.5872 2.0992 1.5616 2.1504 1.536 2.1504 1.536 2.2016 1.4592 2.2016 1.4592 2.2528 1.4592 2.2784 1.408 2.304 1.408 2.304 1.3568 2.3552 1.3568 2.3808 1.3056 2.4064 1.3056 2.432 1.28 2.4576 1.2544 2.5088 1.2288 2.5088 1.2032 2.56 1.1776 2.56 1.152 2.6368 1.152 2.6368 1.1008 2.6624 1.1008 2.688 1.0496 2.7392 1.0496 2.7648 1.024 2.816 0.9984 2.816 0.9728 2.8672 0.9472 2.8928 0.9216 2.944 0.896 2.9696 0.8704 3.0208 0.8704 3.0464 0.8192 3.072 0.8192 3.1232 0.768 3.1744 0.768 3.2 0.768 3.2512 0.6912 3.3024 0.6912 3.328 0.6656 3.3792 0.6656 3.4304 0.6144 3.5072 0.5888 3.5328 0.5888 3.584 0.5632 3.6608 0.512 3.712 0.512 3.7632 0.4864 3.84 0.4608 3.9424 0.4352 3.968 0.4096 4.096 0.384 4.1472 0.384 4.224 0.3328 4.352 0.3328 4.4544 0.2816 4.5824 0.2816 4.7104 0.256 4.8384 0.2304 5.0176 0.2048 5.1968 0.1792 5.4272 0.1536 5.6576 0.128 5.9904 0.128 6.4 0.0768 6.8864 0.0768 7.6544 0.0256 8.8832 0.0256 11.8784V512z"
                  fill="#ffffff"
                  p-id="1192"
                ></path>
                <path
                  d="M374.7328 431.9744l129.8944 172.16a9.1392 9.1392 0 0 0 14.6688 0l129.9456-172.16c4.8128-6.4 0.512-15.7952-7.296-15.7952h-259.84c-7.7824 0-12.1856 9.3952-7.3728 15.7952z"
                  fill="#2c2c2c"
                  p-id="1193"
                ></path>
              </svg>
            </el-button>
            <DropdownMenu slot="dropdown">
              <DropdownItem
                v-for="(item, index) in pathList"
                :key="index"
                :command="item.value"
              >
                {{ $t(item.type) }}
              </DropdownItem>
            </DropdownMenu>
          </Dropdown>
        </div>
        <div class="price-list-content path-box" v-if="info">
          <!-- <div class="list-info th-title">
            <div class="item item1">{{$t('exchange')}}</div>
            <div class="item item2">{{$t('receivedQuantity')}}</div>
            <div class="item item3">{{$t('diff')}}</div>
          </div> -->
          <div
            class="list-info list"
            @click="changeInfoHandle(item)"
            :class="info.dex === item.dex ? 'active' : ''"
            v-for="(item, index) in priceList"
            :key="index"
          >
            <div class="free-gas" v-if="item.dex == 'SWFT' && isFreeGas">
              <img class="sd" src="../../assets/img/sd1.svg" alt="">
              <div class="free-text">
              <span> {{ $t('nogasswap',{
                coin: mainCoin
              }) }}</span>
              </div>
              <div class="free-icon" @click.stop="windowOpen">
                >
              </div>
            </div>
            <div class="part1">
              <div class="item item1">
                <img
                  :src="
                    twFlag == 'miningtw' &&
                    (item.dex == 'bridgers1' || item.dex == 'SWFT')
                      ? 'https://images.swft.pro/dex/miningTW.png'
                      : item.logoUrl
                  "
                  alt=""
                />
                &nbsp;
                {{
                  twFlag != 'miningtw'
                    ? item.dex == 'bridgers1'
                      ? 'Bridgers'
                      : item.dex
                    : item.dex == 'bridgers1'
                    ? 'MiningTW Bridge'
                    : item.dex == 'SWFT'
                    ? 'MiningTW'
                    : item.dex
                }}
              </div>
              <!-- <div
                class="item item3"
                v-if="item.diff == 'BEST'"
                :class="index === 0 ? 'best' : 'err'"
              >
                {{ $t('recommended') }}
              </div> -->
              <div class="item item3" v-if="!isFreeGas">
                <div
                  v-if="item.diff.indexOf('BEST') > -1"
                  class=""
                  :class="item.diff.indexOf('BEST') > -1 ? 'best' : ''"
                >
                  {{ $t('recommended') }}
                </div>

                <div
                  v-if="item.diff.indexOf('maximumReturn') > -1 && pathType == 1"
                  class=""
                  :class="item.diff.indexOf('maximumReturn') > -1 ? 'maxTo' : ''"
                >
                  {{ $t('maximumReturn') }}
                </div>
                <div
                  v-if="item.diff.indexOf('FAST') > -1 && pathType == 2"
                  class=""
                  :class="item.diff.indexOf('FAST') > -1 ? 'fast' : ''"
                >
                  {{ $t('fast') }}
                </div>
              </div>
            </div>
            <div class="part2">
              <div class="item item2">
                <span class="gery">{{ $t('receivedQuantity') }}：</span>
                {{ Number(item.toTokenAmount).toFixed(6) }}
              </div>
              <div>
                {{
                  item.estimatedTime == 1
                    ? $t('estimatedTime1')
                    : item.estimatedTime == 2
                    ? $t('estimatedTime2')
                    : $t('estimatedTime3')
                }}
              </div>
            </div>
          </div>
        </div>
        <div class="closeIcon">
          <img
            @click="closeOrderDialog"
            src="../../assets/img/close.png"
            alt=""
          />
        </div>
      </div>
    </Dialog>
  </div>
</template>

<script>
import Dialog from './dialog'
import { Dropdown, DropdownMenu, DropdownItem } from 'element-ui'
import { supportNetWork } from '../../config/index'
import BigNumber from 'bignumber.js'
import getTronBalance from '../../utils/getTronBalance'
import axios from 'axios'
export default {
  components: { Dialog, Dropdown, DropdownMenu, DropdownItem },
  data() {
    return {
      twFlag: localStorage.getItem('twFlag'),

      pathList: [
        {
          value: 0,
          type: 'recommended',
        },
        { value: 1, type: 'maximumReturn' },
        { value: 2, type: 'fast' },
      ],
    }
  },
  props: {
    pathType: {
      type: Number,
      default: 0,
    },
  },
  computed: {
    lang: {
      get() {
        return this.$store.getters.getLang
      },
      set(val) {
        this.$i18n.locale = val
        this.$store.commit('setLang', val)
      },
    },
    info: {
      get() {
        return this.$store.state.info
      },
      set(obj) {
        this.$store.commit('setInfo', obj)
      },
    },
    tabActive: {
      get() {
        return this.$store.state.tabActive
      },
    },
    isFreeGas(){
      return this.$store.state.isFreeGas
    },
    mainCoin(){
      const data = supportNetWork.find((e) => this.fromToken.mainNetwork == e.netWork)
      if(data){
        return data.symbol
      }
    },
    priceList() {
      return this.$store.state.priceList
    },
    chainId(){
      return this.$store.state.chainId
    },
    rpcObject() {
      return this.$store.state.rpcObject
    },
    bridgeFromTokenchain:{ // from 网络
        get(){
            return this.$store.state.bridgeFromTokenchain
        },
        set(val){
            this.$store.commit('setBridgeFromTokenchain', val)
        }
        
    },
    fromToken() {
      if (this.tabActive == 'bridge') {
        return this.bridgeFromTokenchain
      }
      return this.$store.state.fromToken
    },
    walletAddress: {
      get() {
        if (this.$store.state.chainId == '000') {
          return this.$store.state.walletPolkadot.addrSS58
        } else if (this.$store.state.chainId == '222') {
          return this.$store.state.walletPolkadot.addrSS58CRU
        } else if (this.$store.state.chainId == '333') {
          return this.$store.state.walletPolkadot.addrSS58DBC
        } else if (this.$store.state.chainId == '0') {
          return this.$store.state.walletTRON
        } else {
          return this.$store.state.wallet.address
        }
      },
    },
  },
  watch: {
    priceList(a){
     this.isCanGasFree()
    },
    chainId(){
     this.isCanGasFree()
    }
  },
  methods: {
    windowOpen(){
      if(this.lang == 'zh'){
        window.open('https://swft-allchain-bridge.gitbook.io/swft/swft-wu-gas-dui-huan-fu-wu')
      }else{
        window.open('https://swft-2.gitbook.io/crosschain/welcome/swft-0-gas-swap-service')
      }
    },
    // 判断是否满足无gas兑换
    async isCanGasFree(){
        const swftData = this.priceList.filter( item => item.dex == 'SWFT')
        if(swftData.length == 0){
          this.$store.commit('setIsFreeGas', false)
          return
        }else{
          const supportNoGas = swftData[0].supportNoGas
          if(!supportNoGas) {
            this.$store.commit('setIsFreeGas', false)
            return
          }
          // 此时满足存在swft渠道，可以进行免gas兑换
          // 判断用户当前主币余额
          const balance = await this.getBalance()
          // 预估gas和余额进行对比
          const gas = await this.getGas()
          let b = false
          if( this.fromToken.mainNetwork == 'TRX'){
            const res = await axios.get('https://apilist.tronscanapi.com/api/accountv2?address=' + this.walletAddress)
            const energy = res.bandwidth.energyRemaining > 0 ? res.bandwidth.energyRemaining : 0
            b =  (gas - balance >= 0) && energy < 64000
          }else{
            b =  (gas - balance >= 0)
          }
          this.$store.commit('setIsFreeGas', b)
        }
    },
    async getBalance(){
      const netWork = this.fromToken.mainNetwork
      if(netWork == 'TRX'){
        // 计算trx 余额
        const reslt = await getTronBalance()
        const balance = tronWeb.fromSun(reslt.balance).toString()
        return  balance
      }else{
        const Web3 = require('web3');
        const web3 = new Web3(this.rpcObject[netWork][0]);
        const address = this.walletAddress;

        const balance = await web3.eth.getBalance(address)
        return web3.utils.fromWei(balance, 'ether')
      }
    },
    async getGas(){
      const netWork = this.fromToken.mainNetwork
      if(netWork == 'TRX'){
        return 30
      }else{
        const Web3 = require('web3');
        const web3 = new Web3(this.rpcObject[netWork][0]);
        const gas = await web3.eth.estimateGas({});
        const gasPrice = await web3.eth.getGasPrice()*1.8
        const fee = Number(
            new BigNumber(gasPrice)
              .multipliedBy(gas)
              .dividedBy(BigNumber(10).pow(18))
              .toFixed(6),
          )
      return fee
      }
    },
    closeOrderDialog() {
      this.$refs.dialogPriceList.show = false
    },
    changeInfoHandle(item) {
      this.info = item
      this.closeOrderDialog()
      this.$parent.dex = item.dex
    },
    handleCommand(command) {
      this.$parent.pathType = command
    },
  },
  created() {
    this.isCanGasFree()
  },
  mounted() {},
  beforeCreate() {}, // 生命周期 - 创建之前
  beforeMount() {}, // 生命周期 - 挂载之前
  beforeUpdate() {}, // 生命周期 - 更新之前
  updated() {}, // 生命周期 - 更新之后
  beforeDestroy() {}, // 生命周期 - 销毁之前
  destroyed() {}, // 生命周期 - 销毁完成
  activated() {}, // 如果页面有keep-alive缓存功能，这个函数会触发
}
</script>
<style lang="scss" scoped>
.path-box {
  max-height: 500px;
  overflow: hidden;
  overflow-y: auto;
}
.title {
  font-size: 0.4rem;
  font-family: Poppins;
  color: #000000;
  text-align: left;
  font-weight: bold;
  margin-bottom: 0.2rem;
  display: flex;
  justify-content: space-between;

  .select-box {
    // margin-left: 0.25rem;
    font-size: 0.2rem;
    :deep(.el-button) {
      // width: 3rem;
      height: 0.64rem;
      border-radius: 0.32rem;
      border: 1px solid #f2f5fa;
      padding: 0 0.2rem;
      font-size: 0.2rem;
      font-family: Poppins;
      color: #000000;
      cursor: pointer;
      background: #f7f8fa;
      span {
        display: flex;
        align-items: center;
      }
    }
    img {
      width: 0.6rem;
      margin-right: 0.15rem;
    }
    .type-name {
      flex: 1;
    }
    svg {
      width: 0.37rem;
      height: 0.37rem;
      border-radius: 5px;
      margin-left: 0.2rem;
    }
  }
}
.price-list-content {
  min-height: 50vh;
  .list-info {
    width: 100%;
    min-height: 1.666rem;
    box-sizing: border-box;
    cursor: pointer;
    margin-bottom: 0.2rem;
    border: 1px solid #f1f1f1;
    border-radius: 0.25rem;
    overflow: hidden;
    .free-gas{
      width: 100%;
      background: #277FFA;
      opacity: 1;
      padding: 0 .1rem 0 .2rem;
      display: flex;
      align-items: center;
      box-sizing: border-box;
      .sd{
        display: inline-block;
        width: .35rem;
        margin-right: .05rem;
        color: #ffffff;
      }
      .free-text{
        width: 0;
        flex: 1;
        font-size: 10px;
        font-family: Poppins-Regular, Poppins;
        font-weight: 400;
        color: #FFFFFF;
        line-height:15px;
        padding: .1rem 0;
        text-align: left;
      }
      .free-icon{
        display: flex;
        align-items: center;
        cursor: pointer;
        padding: 0 .1rem;
        font-size: .4rem;
        color: #FFFFFF;
      }
    }
    &.th-title {
      font-family: Poppins-Regular, Poppins;
      font-weight: 400;
      color: #999999;
    }
    &.list {
      font-family: Poppins-Regular, Poppins;
      color: #292929;
    }
    &.active {
      background: #f0f7ff;
      border: 1px solid #73acff;
      border-radius: 0.25rem;
    }
    &:hover {
      border: 1px solid #73acff;
    }
    .item {
      height: 0.6rem;
      display: flex;
      align-items: center;
      &.item1 {
        // width: 30%;
        font-size: 0.259rem;
        font-family: Poppins-SemiBold, Poppins;
      }
      &.item2 {
        width: 70%;
        overflow: hidden;
        overflow-x: auto;
      }
      .gery {
        color: #999999;
      }
      &.item3 {
        // width: 15%;
        justify-content: end;
        font-size: 12px;
        .best {
          color: #24af5c;
          background-color: #e8fff2;
          border: 1px solid #24af5c;
          border-radius: 5px;
          padding: 2px 3px;
          margin-left: 3px;
        }
        .fast {
          color: #277ffa;
          background-color: #f3f8ff;
          border: 1px solid #277ffa;
          border-radius: 5px;
          padding: 2px 3px;
          margin-left: 3px;
        }
        .maxTo {
          color: #277ffa;
          background-color: #f3f8ff;
          border: 1px solid #277ffa;
          border-radius: 5px;
          padding: 2px 3px;
          margin-left: 3px;
        }
        &.err {
          color: #cd4444;
        }
      }
      img {
        width: 0.63rem;
        height: 0.63rem;
        border-radius: 1rem;
      }
    }
    .part1,
    .part2 {
      padding: 0 0.15rem;
      display: flex;
      justify-content: space-between;
      margin-top: 0.16rem;
    }
    .part2 {
      font-size: 0.259rem;
      font-family: Poppins-SemiBold, Poppins;
    }
  }
}
.closeIcon {
  width: calc(100% - 32px);
  height: 0.74rem;
  position: absolute;
  bottom: -0.925rem;
  img {
    width: 0.925rem;
    height: 0.925rem;
    cursor: pointer;
  }
}
.el-dropdown-menu {
  width: 3.89rem;
  max-height: 40vh;
  overflow: hidden;
  overflow-y: auto;
  padding: 15px 10px;
  box-shadow: 0px 10px 30px 0px rgba(0, 52, 128, 0.09);
  border-radius: 0.4rem;
  .el-dropdown-menu__item {
    position: relative;
    border-radius: 0.2778rem;
    padding: 0 10px;
    font-size: 0.259rem;
    height: 0.8888rem;
    line-height: 0.8888rem;
    font-family: Poppins;
    color: #8f98ae;
    display: flex;
    align-items: center;
    img {
      width: 0.5555rem;
      height: 0.5555rem;
      margin-right: 0.2rem;
    }
    &:hover {
      background: #ffffff;
      color: #000;
    }
    &.active {
      background: #f7f8fa;
      color: #000000;
    }
    .icon {
      width: 20px;
      height: 20px;
      position: absolute;
      right: 10px;
      top: 50%;
      margin-top: -7.5px;
    }
  }
}
</style>
